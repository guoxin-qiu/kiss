import{_ as s,c as a,a as e,o as p}from"./app-Dmwo-0Oh.js";const t={};function o(c,n){return p(),a("div",null,n[0]||(n[0]=[e(`<h1 id="react" tabindex="-1"><a class="header-anchor" href="#react"><span>React</span></a></h1><h2 id="创建项目" tabindex="-1"><a class="header-anchor" href="#创建项目"><span>创建项目</span></a></h2><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code><span class="line"><span class="token function">yarn</span> create react-app my-app <span class="token parameter variable">--template</span> typescript</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>使用 Ant Design Pro</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code><span class="line">yarn create umi</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>参考<a href="https://standadmin.github.io/stand-admin-antdpro/" target="_blank" rel="noopener noreferrer">开发者封装 Ant Design Pro</a></p><h2 id="learning-react-second-edition" tabindex="-1"><a class="header-anchor" href="#learning-react-second-edition"><span>Learning React Second Edition</span></a></h2><p>React Fiber</p><p>Hooks</p><p>Suspense</p><p>浏览器扩展工具：https://oreil.ly/5tizT</p><p>模板字符串</p><p>创建函数：函数声明、函数表达式（var lg=function(){})、函数默认参数、</p><p>高阶函数</p><p>命令式和声明式</p><p>函数式编程 》纯函数</p><ul><li>函数应该至少接收一个参数</li><li>函数应该返回一个值或另一个函数</li><li>函数不应该更改任何参数</li></ul><p>Array.map 和 Array.reduce</p><p>柯里化（currying）</p><p>递归</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code><span class="line"><span class="token keyword">const</span> <span class="token function-variable function">countdown</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">value<span class="token punctuation">,</span> fn<span class="token punctuation">,</span> delay <span class="token operator">=</span> <span class="token number">1000</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token function">fn</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token keyword">return</span> value <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token operator">?</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">countdown</span><span class="token punctuation">(</span>value <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> fn<span class="token punctuation">,</span> delay<span class="token punctuation">)</span><span class="token punctuation">,</span> delay<span class="token punctuation">)</span> <span class="token operator">:</span> value<span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">const</span> <span class="token function-variable function">log</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token function">countdown</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> log<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code><span class="line"><span class="token keyword">const</span> <span class="token function-variable function">both</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">appendAMPM</span><span class="token punctuation">(</span><span class="token function">civilianHours</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">const</span> both <span class="token operator">=</span> <span class="token function">compose</span><span class="token punctuation">(</span>civilianHours<span class="token punctuation">,</span> appendAMPM<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">const</span> <span class="token function-variable function">compose</span> <span class="token operator">=</span></span>
<span class="line">  <span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>fns</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span></span>
<span class="line">  <span class="token punctuation">(</span><span class="token parameter">arg</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span></span>
<span class="line">    fns<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">composed<span class="token punctuation">,</span> f</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">f</span><span class="token punctuation">(</span>composed<span class="token punctuation">)</span><span class="token punctuation">,</span> arg<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>webpack 打包 yarn add webpack webpack-cli</p><p>导入树、依赖图（dependency graph）、构建包</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code><span class="line"><span class="token keyword">const</span> Purecat <span class="token operator">=</span> <span class="token function">memo</span><span class="token punctuation">(</span>Cat<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">prevProps<span class="token punctuation">,</span> nextProps</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> prevProps<span class="token punctuation">.</span>name <span class="token operator">===</span> nextProps<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>GitHub GraphQL API</p><p>graphql-request</p><p>https://developer.github.com/v4/explorer</p><p>Suspense</p><p>Next.js</p><p>Gatsby</p><h3 id="跨域问题" tabindex="-1"><a class="header-anchor" href="#跨域问题"><span>跨域问题</span></a></h3><div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json"><pre><code><span class="line"><span class="token comment">// package.json</span></span>
<span class="line"><span class="token property">&quot;proxy&quot;</span><span class="token operator">:</span> <span class="token string">&quot;http://api.xxxx.com&quot;</span></span>
<span class="line">or</span>
<span class="line"><span class="token property">&quot;proxy&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">&quot;/api/RoomApi&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token property">&quot;target&quot;</span><span class="token operator">:</span> <span class="token string">&quot;http://open.douyucdn.cn&quot;</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token property">&quot;changeOrigin&quot;</span><span class="token operator">:</span><span class="token boolean">true</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">&quot;/api/v1&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span></span>
<span class="line">      <span class="token property">&quot;target&quot;</span><span class="token operator">:</span><span class="token string">&quot;http://capi.douyucdn.cn&quot;</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token property">&quot;changeOrigin&quot;</span><span class="token operator">:</span><span class="token boolean">true</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ant-design-pro" tabindex="-1"><a class="header-anchor" href="#ant-design-pro"><span>Ant Design Pro</span></a></h2><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code><span class="line">yarn create umi</span>
<span class="line"># 选择ant-design-pro &gt; typescript &gt; simple</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>其中 simple 模式如果遇到了样式问题，在 config/config.ts 设置 <code>mfsu:false</code> 来关闭 MFSU</p><p><a href="https://standadmin.github.io/stand-admin-antdpro/" target="_blank" rel="noopener noreferrer">开发者封装 Ant Design Pro</a></p><h3 id="配置修改" tabindex="-1"><a class="header-anchor" href="#配置修改"><span>配置修改</span></a></h3><ul><li>React18 问题，会添加@types/react version 18，解决方法在 package.json 添加</li></ul><div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json"><pre><code><span class="line"><span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">&quot;resolutions&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">&quot;@types/react&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^16 || ^17&quot;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>更新@types/react</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code><span class="line"><span class="token function">yarn</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>去掉右侧的 settingDrawer，在 <code>app.ts</code> 中 <code>SettingDrawer</code></p><p>OpenAPI 打开出错解决方法，在<code>config/config.ts</code>里添加<code>projectName: &quot;bonbon-react&quot;</code>.</p><p>更换 eslint 和 stylelint 配置，参考<a href="./project-setup">项目配置</a></p><p><code>package.json</code>中的 eslint 命令中去掉<code>--cache</code>，否则会有不预期的结果</p>`,46)]))}const l=s(t,[["render",o]]),r=JSON.parse('{"path":"/3.tech/13.tech-frontend/71.react.html","title":"React","lang":"zh-cn","frontmatter":{},"headers":[{"level":2,"title":"创建项目","slug":"创建项目","link":"#创建项目","children":[]},{"level":2,"title":"Learning React Second Edition","slug":"learning-react-second-edition","link":"#learning-react-second-edition","children":[{"level":3,"title":"跨域问题","slug":"跨域问题","link":"#跨域问题","children":[]}]},{"level":2,"title":"Ant Design Pro","slug":"ant-design-pro","link":"#ant-design-pro","children":[{"level":3,"title":"配置修改","slug":"配置修改","link":"#配置修改","children":[]}]}],"git":{"updatedTime":1745032055000,"contributors":[{"name":"guoxin-qiu","username":"guoxin-qiu","email":"guoxin.qiu@outlook.com","commits":5,"url":"https://github.com/guoxin-qiu"}],"changelog":[{"hash":"a2b6e78156eb7f1fed6ecb0952cc98c6b90aa9d3","time":1745032055000,"email":"guoxin.qiu@outlook.com","author":"guoxin-qiu","message":"change hierarchy"},{"hash":"cf1a535ce24165a7f8da8bf85c1c9f2de88d6068","time":1692634731000,"email":"guoxin.qiu@outlook.com","author":"guoxin-qiu","message":"update: change the groups"},{"hash":"24795fa27668d9eb86a60f67b09182b15314e9bc","time":1682330132000,"email":"guoxin.qiu@outlook.com","author":"guoxin-qiu","message":"chore: structure adjust big big"},{"hash":"6c5b730e5acb1ab8dee133ad8856957269916d1d","time":1653878999000,"email":"guoxin.qiu@outlook.com","author":"guoxin-qiu","message":"chore: change hierarchical structure"},{"hash":"f84a641ec709f6a3483190ecad67b877d5c64fb7","time":1651105335000,"email":"guoxin.qiu@outlook.com","author":"guoxin-qiu","message":"chore: init"}]},"filePathRelative":"3.tech/13.tech-frontend/71.react.md"}');export{l as comp,r as data};
