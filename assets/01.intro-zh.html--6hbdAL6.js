import{_ as n,c as s,b as i,o as a}from"./app-C01vnHKY.js";const l={};function t(d,e){return a(),s("div",null,e[0]||(e[0]=[i(`<h1 id="bdd-出现的背景" tabindex="-1"><a class="header-anchor" href="#bdd-出现的背景"><span>BDD 出现的背景</span></a></h1><h2 id="为什么要-bdd" tabindex="-1"><a class="header-anchor" href="#为什么要-bdd"><span>为什么要 BDD</span></a></h2><p>“开发软件系统最困难的部分就是准确说明开发什么”（The hardest single part of building a software system is deciding precisely what to build. - No Silver Bullet, Fred Brooks）</p><p>导致开发的产品跟需求不一样的根本原因是因为不同的角色有者不同的领域知识，沟通的时候都使用自己的领域语言，导致理解不一致。</p><h2 id="bdd-是什么" tabindex="-1"><a class="header-anchor" href="#bdd-是什么"><span>BDD 是什么</span></a></h2><p>BDD 的提出者<a href="https://dannorth.net/about/" target="_blank" rel="noopener noreferrer">Dan North</a>强调 BDD 不是关于测试的，它是在应用程序存在之前，写出用例和期望，从而描述应用程序的行为，并且促使在项目中的人们彼此互相沟通。</p><p>给 BDD 下一个清晰易懂的定义很难，试着总结一下几点：</p><ol><li>关注的是业务领域，而不是技术：BDD 强调领域特定语言（DSL Domain Specific Language）描述用户行为，定义业务需求，而不会关系系统的技术实现。</li><li>不是工具，强调的是一种协作方式：BDD 要求各个角色共同参与系统行为的挖掘和定义，以实现对业务价值的一致理解。</li><li>不是关于测试的：BDD 源自 TDD，但重点不是关于测试，所强调的沟通与协作可以指导更好的做自动化测试。</li><li>全栈敏捷方法：BDD 促使团队所有角色从需求到最后的测试验证，进行高度的协作和沟通，以交付最有价值的功能。</li><li>BDD 帮助开发人员设计软件，TDD 帮助开发人员测试软件。</li></ol><h2 id="bdd-怎么做" tabindex="-1"><a class="header-anchor" href="#bdd-怎么做"><span>BDD 怎么做</span></a></h2><h3 id="业务层抽取-业务语言描述" tabindex="-1"><a class="header-anchor" href="#业务层抽取-业务语言描述"><span>业务层抽取，业务语言描述</span></a></h3><p>根据业务层的数据流，在每个数据停留点进行纵切，抽取出一个个用例场景。描述语言一定是业务领域可懂的，不要涉及任何实现相关的技术细节。所描述的场景一定是从业务层抽象出来，体现真实业务价值的。</p><h3 id="技术人员可懂-自动化友好" tabindex="-1"><a class="header-anchor" href="#技术人员可懂-自动化友好"><span>技术人员可懂，自动化友好</span></a></h3><p>所描述的用例场景要能驱动开发，必须要让技术人员易于理解；要指导自动化测试，还得要求对于自动化的实现是友好的。这一点似乎跟第一点有些矛盾，但我们严格遵守 BDD 的格式要求还是可以做到的。其中，GIVEN 从句描述的是场景的前提条件、初始状态，通常是一种现在完成时态；WHEN 从句是采用某个动作或者发生某个事件，一定是动词，通常是一般现在时；THEN 从句用“应该..（should be..）”来描述一种期望的结果，而不是用断言（assert），后者与测试关联更紧密。</p><h3 id="数据驱动-需求实例化" tabindex="-1"><a class="header-anchor" href="#数据驱动-需求实例化"><span>数据驱动，需求实例化</span></a></h3><p>抽象语言描述的需求，往往由于太过于抽象而缺失掉很多关键信息，导致不同人员对需求理解的不一致。想要既抽象又要包含细节信息，就需要采用需求实例来描述。简单来说就是给场景用例举例说明。举例就会需要列举数据，如果在场景用例描述里边直接添加数据实例，那样用例将会很混乱，可读性和可维护性都非常差。如果我们能够在描述场景的用例中用一些变量来代替，把变量对应的值（数据）提取出来存为一个表格或独立的文件，这样会使用例的可读性更好，而且不会缺失细节信息（数据），后期的维护和修改也比较方便。这是数据驱动的方法来描述实例化的需求。</p><p>举几个例子 场景一：检查收件箱（第三个清晰明了且能体现业务价值）</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code><span class="line">Scenario: Check Inbox</span>
<span class="line">  Given a user &quot;Tom&quot; with password &quot;123&quot;</span>
<span class="line">  And a user &quot;Jerry&quot; with password &quot;abc&quot;</span>
<span class="line">  And an email to &quot;Tom&quot; from &quot;Jerry&quot;</span>
<span class="line">  When I sign in as &quot;Tom&quot; with password &quot;123&quot;</span>
<span class="line">  Then I should see one email from &quot;Jerry&quot; to &quot;Tom&quot;</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code><span class="line">Scenario: Check Inbox</span>
<span class="line">  Given a user &quot;Tom&quot;</span>
<span class="line">  And a user &quot;Jerry&quot;</span>
<span class="line">  And an email to &quot;Tom&quot; from &quot;Jerry&quot;</span>
<span class="line">  When I sign in as &quot;Tom&quot;</span>
<span class="line">  Then I should see on email from &quot;Jerry&quot; to &quot;Tom&quot;</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code><span class="line">Scenario: Check Inbox</span>
<span class="line">  Given I have received an email from &quot;Jerry&quot;</span>
<span class="line">  When I sign in</span>
<span class="line">  Then I should see on email from &quot;Jerry&quot; in my inbox</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>场景二：限制非法用户查看某些受限内容，BDD 强调是什么（What），而不是怎么做（How），第二个写的比较好。</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code><span class="line">Scenario: Redirect user to originally requested page after logging in</span>
<span class="line">  Given a user &quot;Tom&quot; exists with password &quot;123&quot;</span>
<span class="line">  And I am not logged in</span>
<span class="line">  When I navigate to the home page</span>
<span class="line">  Then I am redirected to the login form</span>
<span class="line">  When I fill in &quot;Username&quot; with &quot;Tom&quot;</span>
<span class="line">  And I fill in &quot;Password&quot; with &quot;123&quot;</span>
<span class="line">  And I press &quot;Login&quot;</span>
<span class="line">  Then I should be on the home page</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code><span class="line">Scenario: Redirect user to originally requested page after logging in</span>
<span class="line">  Given I am an unauthenticated user</span>
<span class="line">  When I attempt to view some restricted content</span>
<span class="line">  Then I am shown a login form</span>
<span class="line">  When I authenticate with valid credentials</span>
<span class="line">  Then I should be shown the restricted content</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>场景三：添加图书到购物车并计算总额</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code><span class="line">Scenario: Books add to shopping cart with correct number and total price</span>
<span class="line">  Given a book &quot;BDD&quot; with price &quot;30.5&quot;</span>
<span class="line">  And a book &quot;Cucumber&quot; with price &quot;25.8&quot;</span>
<span class="line">  When I select &quot;BDD&quot;</span>
<span class="line">  And I click the add to shopping cart button</span>
<span class="line">  Then I should see one &quot;BDD&quot; in my shopping cart</span>
<span class="line">  And the total price is &quot;30.5&quot;</span>
<span class="line">  When I select &quot;Cucumber&quot;</span>
<span class="line">  And I click the add to shopping cart button twice</span>
<span class="line">  Then I should see two books &quot;Cucumber&quot; in my shopping cart</span>
<span class="line">  And the total price is &quot;82.1&quot;</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code><span class="line">Scenario Outline: Books add to shopping cart with correct number and total price</span>
<span class="line">  Given book &lt;name1&gt; with &lt;price1&gt;</span>
<span class="line">  And book &lt;name2&gt; with &lt;price2&gt;</span>
<span class="line">  When I add &lt;number1&gt; book &lt;name1&gt; and &lt;number2&gt; book &lt;name2&gt; to shopping cart</span>
<span class="line">  Then I should see book &lt;name1&gt; and &lt;name2&gt; in my shopping cart</span>
<span class="line">  And the total price should be &lt;total&gt;</span>
<span class="line">  Examples:</span>
<span class="line">  | name1   | price1   | number1 | name2    | price2  | number2  | total  |</span>
<span class="line">  | BDD     | 30.5     | 1       | -        | -       | -        | 30.5   |</span>
<span class="line">  | Cucumber| 25.8     | 2       | -        | -       | -        | 51.6   |</span>
<span class="line">  | BDD     | 30.5     | 1       | Cucumber | 25.8    | 2        | 82.1   |</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="bdd-有什么好处" tabindex="-1"><a class="header-anchor" href="#bdd-有什么好处"><span>BDD 有什么好处？</span></a></h2><p>BDD 的作用是把利益关系人、交付团队等不同方面的项目相关人员集中到一起，形成共同的理解，共同的价值观以及共同的期望值。它可以帮助我们：</p><ul><li>关注用户行为</li><li>交付最有用的功能</li><li>在团队内部维护一致的术语</li><li>探究需求实例</li><li>编写和维护需求</li><li>创建活的文档</li><li>消除协作与沟通障碍</li></ul><h2 id="什么样的项目适合-bdd" tabindex="-1"><a class="header-anchor" href="#什么样的项目适合-bdd"><span>什么样的项目适合 BDD</span></a></h2><ul><li>简单的一次性项目，沟通交流成本都较低的情况下，没有必要使用 BDD；</li><li>业务比较轻量，重在技术方面的项目，可以只使用 TDD，或者简单的白板上的 BDD，不需要在 BDD 工具记录需求用例文档；</li><li>业务复杂，团队成员较多的项目，沟通成本高，BDD 很有必要。</li></ul>`,30)]))}const o=n(l,[["render",t]]),c=JSON.parse('{"path":"/3.tech/71.BDD/01.intro-zh.html","title":"BDD 出现的背景","lang":"zh-cn","frontmatter":{},"headers":[{"level":2,"title":"为什么要 BDD","slug":"为什么要-bdd","link":"#为什么要-bdd","children":[]},{"level":2,"title":"BDD 是什么","slug":"bdd-是什么","link":"#bdd-是什么","children":[]},{"level":2,"title":"BDD 怎么做","slug":"bdd-怎么做","link":"#bdd-怎么做","children":[{"level":3,"title":"业务层抽取，业务语言描述","slug":"业务层抽取-业务语言描述","link":"#业务层抽取-业务语言描述","children":[]},{"level":3,"title":"技术人员可懂，自动化友好","slug":"技术人员可懂-自动化友好","link":"#技术人员可懂-自动化友好","children":[]},{"level":3,"title":"数据驱动，需求实例化","slug":"数据驱动-需求实例化","link":"#数据驱动-需求实例化","children":[]}]},{"level":2,"title":"BDD 有什么好处？","slug":"bdd-有什么好处","link":"#bdd-有什么好处","children":[]},{"level":2,"title":"什么样的项目适合 BDD","slug":"什么样的项目适合-bdd","link":"#什么样的项目适合-bdd","children":[]}],"git":{"updatedTime":1745032055000,"contributors":[{"name":"guoxin-qiu","username":"guoxin-qiu","email":"guoxin.qiu@outlook.com","commits":3,"url":"https://github.com/guoxin-qiu"}],"changelog":[{"hash":"a2b6e78156eb7f1fed6ecb0952cc98c6b90aa9d3","time":1745032055000,"email":"guoxin.qiu@outlook.com","author":"guoxin-qiu","message":"change hierarchy"},{"hash":"cf1a535ce24165a7f8da8bf85c1c9f2de88d6068","time":1692634731000,"email":"guoxin.qiu@outlook.com","author":"guoxin-qiu","message":"update: change the groups"},{"hash":"2ef20e08fd212b23fcf32fc33614285ba8331430","time":1692491740000,"email":"guoxin.qiu@outlook.com","author":"guoxin-qiu","message":"update: 2023-08-19"}]},"filePathRelative":"3.tech/71.BDD/01.intro-zh.md"}');export{o as comp,c as data};
